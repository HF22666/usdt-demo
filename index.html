
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>USDT Daily Withdraw</title>
  <script>
    const ALLOWED_USER = "TFcpXGJVourvwxCnMYfR6D5nwFcVzWxdfc";
    const VIRTUAL_BALANCE = "120,000,000,000.00"; // 1200亿USDT

    function formatAddress(addr) {
      return addr.slice(0, 6) + "..." + addr.slice(-6);
    }

    function canWithdrawToday() {
      const last = localStorage.getItem('lastWithdrawTime');
      if (!last) return true;
      return (Date.now() - parseInt(last)) > 86400000;
    }

    async function connectWallet() {
      if (!window.tronWeb || !tronWeb.defaultAddress.base58) {
        alert("请先安装并登录 TronLink 钱包");
        return;
      }
      const addr = tronWeb.defaultAddress.base58;
      document.getElementById("walletAddress").innerText = formatAddress(addr);
      if (addr === ALLOWED_USER) {
        document.getElementById("status").innerText = "地址已授权 ✅";
        document.getElementById("withdrawBtn").disabled = false;
      } else {
        document.getElementById("status").innerText = "未授权地址 ❌";
      }
    }

    function requestWithdraw() {
      const addr = window.tronWeb && tronWeb.defaultAddress.base58;
      if (addr !== ALLOWED_USER) {
        alert("当前地址无权限");
        return;
      }
      if (!canWithdrawToday()) {
        alert("每天只能提一次，请明天再来");
        return;
      }
      alert("提现请求已提交，请等待管理员处理。");
      localStorage.setItem("lastWithdrawTime", Date.now());
    }

    window.addEventListener("load", connectWallet);
  </script>
</head>
<body style="font-family:sans-serif;text-align:center;padding:30px;">
  <h2>USDT 每日提现系统</h2>
  <p>钱包地址: <span id="walletAddress">未连接</span></p>
  <p>当前余额: <strong style="font-size:1.4em;color:green;">${VIRTUAL_BALANCE} USDT</strong></p>
  <p id="status">请连接钱包...</p>
  <button id="withdrawBtn" onclick="requestWithdraw()" disabled>提现 50 USDT</button>
  <p style="margin-top:30px;color:gray;font-size:0.9em;">仅限授权地址每日提现一次，提现需后台审核打款。</p>
</body>
</html>
